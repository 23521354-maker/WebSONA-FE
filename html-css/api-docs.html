<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - SONA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            min-height: 100vh;
            padding: 0;
        }
        .container {
            max-width: 100%;
            margin: 0;
            background: #1a1a1a;
            min-height: 100vh;
        }
        header {
            background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
            color: white;
            padding: 30px;
            text-align: center;
            border-bottom: 3px solid #ff0000;
            box-shadow: 0 2px 10px rgba(255, 0, 0, 0.3);
        }
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }
        header p {
            font-size: 1.1em;
            opacity: 0.9;
            color: #ccc;
        }
        .content {
            padding: 40px;
            background: #1a1a1a;
            max-width: 1200px;
            margin: 0 auto;
        }
        .api-endpoint {
            margin-bottom: 40px;
            border-left: 4px solid #ff0000;
            padding-left: 20px;
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.1);
        }
        .api-endpoint h2 {
            color: #ff0000;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        .method {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            margin-right: 10px;
            font-size: 0.9em;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        .method.post {
            background: linear-gradient(135deg, #ff6600 0%, #cc5200 100%);
        }
        .method.get {
            background: linear-gradient(135deg, #0066ff 0%, #0052cc 100%);
        }
        .method.delete {
            background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
        }
        .endpoint-url {
            background: #0a0a0a;
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: monospace;
            overflow-x: auto;
            font-size: 0.95em;
            color: #0f0;
            border: 1px solid #333;
        }
        .description {
            margin: 15px 0;
            line-height: 1.6;
            color: #ccc;
        }
        .params, .response {
            margin: 15px 0;
            background: #1a1a1a;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #333;
        }
        .params h4, .response h4 {
            color: #ff0000;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        .params table, .response table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        .params table th, .params table td,
        .response table th, .response table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #333;
            color: #ccc;
        }
        .params table th, .response table th {
            background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
            color: white;
        }
        code {
            background: #0a0a0a;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
            color: #0f0;
            border: 1px solid #333;
        }
        .code-block {
            background: #0a0a0a;
            color: #0f0;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
            font-family: monospace;
            font-size: 0.9em;
            line-height: 1.5;
            border: 1px solid #333;
        }
        .success {
            color: #27ae60;
        }
        .error {
            color: #e74c3c;
        }
        footer {
            background: #0a0a0a;
            padding: 20px;
            text-align: center;
            color: #888;
            font-size: 0.95em;
            border-top: 2px solid #ff0000;
        }
        .note {
            background: #2a1a1a;
            border-left: 4px solid #ff0000;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            color: #ccc;
        }
        .note strong {
            color: #ff0000;
        }
        .nav-link {
            color: #ff0000;
            text-decoration: none;
            margin-right: 20px;
            transition: all 0.3s;
        }
        .nav-link:hover {
            color: #ff3333;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>SONA API Documentation</h1>
            <p>Order Management System - Complete API Reference</p>
            <p style="margin-top: 20px;">
                <a href="api-tester.html" class="nav-link">API Tester</a>
                <a href="index.html" class="nav-link">Back to Website</a>
            </p>
        </header>
        <div class="content">
            <!-- Authentication Endpoint -->
            <div class="api-endpoint">
                <h2><span class="method post">POST</span> /api/auth/login</h2>
                <div class="endpoint-url">/api/auth/login</div>
                <div class="description">
                    User login and receive JWT token. This token will be used for subsequent authenticated requests.
                </div>
                <div class="params">
                    <h4>üì§ Request Body</h4>
                    <table>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td><code>username</code></td>
                            <td>string</td>
                            <td>Username (required)</td>
                        </tr>
                        <tr>
                            <td><code>password</code></td>
                            <td>string</td>
                            <td>Password (required)</td>
                        </tr>
                    </table>
                </div>
                <div class="response">
                    <h4>üì• Response (Success)</h4>
                    <div class="code-block">{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJJRF9VIjoiVTE3NjM3Mjk4MDEzNDAiLCJUZW5ETiI6InNvbmhvYW5nIiwiVmFpVHJvIjoidXNlciIsImlhdCI6MTczMzQ3NTg2MSwiZXhwIjoxNzMzNTYyMjYxfQ.kZMr_wXYzHGjN5KvLmQ8xY9FqP6tJ3bN7sR2aD4fE8g",
  "user": {
    "ID_U": "U1763729801340",
    "TenDN": "sonhoang",
    "Email": "son@example.com",
    "HoTen": "H·ªì Xu√¢n S∆°n",
    "VaiTro": "user"
  }
}

Note: Token expires in 24 hours. Include in Authorization header as:
Authorization: Bearer {token}</div>
                </div>
            </div>

            <!-- Create Order -->
            <div class="api-endpoint">
                <h2><span class="method post">POST</span> /api/orders</h2>
                <div class="endpoint-url">/api/orders</div>
                <div class="description">
                    Create a new order. Requires JWT token in Authorization header. Order ID is auto-generated sequentially (DH001, DH002, etc.).
                </div>
                <div class="params">
                    <h4>üì§ Request Body</h4>
                    <table>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td><code>HoTen</code></td>
                            <td>string</td>
                            <td>Recipient full name (required)</td>
                        </tr>
                        <tr>
                            <td><code>SDT</code></td>
                            <td>string</td>
                            <td>Phone number (required)</td>
                        </tr>
                        <tr>
                            <td><code>DiaChi</code></td>
                            <td>string</td>
                            <td>Delivery address (required)</td>
                        </tr>
                        <tr>
                            <td><code>items</code></td>
                            <td>array</td>
                            <td>Array of products [{ID_SP, SoLuong, DonGia, ThanhTien}] (required)</td>
                        </tr>
                        <tr>
                            <td><code>TongTien</code></td>
                            <td>number</td>
                            <td>Total order amount (required)</td>
                        </tr>
                    </table>
                </div>
                <div class="response">
                    <h4>üì• Response (Success)</h4>
                    <div class="code-block">{
  "success": true,
  "message": "ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng",
  "order": {
    "ID_DH": "DH001",
    "ID_U": "U1763729801340",
    "HoTen": "H·ªì Xu√¢n S∆°n",
    "SDT": "0987654321",
    "DiaChi": "123 ƒê∆∞·ªùng ABC, TP.HCM",
    "TongTien": 5000000,
    "TrangThai": "cho_xac_nhan",
    "NgayDat": "2024-01-01 10:30:00"
  }
}</div>
                </div>
                <div class="note">
                    <strong>‚ö†Ô∏è Header y√™u c·∫ßu:</strong> Authorization: Bearer {token}
                </div>
            </div>

            <!-- Get User Orders -->
            <div class="api-endpoint">
                <h2><span class="method get">GET</span> /api/orders</h2>
                <div class="endpoint-url">/api/orders</div>
                <div class="description">
                    Retrieve all orders for the current user. User is identified by JWT token.
                </div>
                <div class="response">
                    <h4>üì• Response (Success)</h4>
                    <div class="code-block">{
  "success": true,
  "orders": [
    {
      "ID_DH": "DH001",
      "ID_U": "U1763729801340",
      "HoTen": "H·ªì Xu√¢n S∆°n",
      "SDT": "0987654321",
      "DiaChi": "123 ƒê∆∞·ªùng ABC, TP.HCM",
      "TongTien": 5000000,
      "TrangThai": "cho_xac_nhan",
      "NgayDat": "2024-01-01 10:30:00"
    }
  ]
}</div>
                </div>
                <div class="note">
                    <strong>‚ö†Ô∏è Header y√™u c·∫ßu:</strong> Authorization: Bearer {token}
                </div>
            </div>

            <!-- Get Order Detail -->
            <div class="api-endpoint">
                <h2><span class="method get">GET</span> /api/orders/:orderId</h2>
                <div class="endpoint-url">/api/orders/DH001</div>
                <div class="description">
                    Get detailed information for a specific order, including all products in the order.
                </div>
                <div class="params">
                    <h4>üìã URL Parameters</h4>
                    <table>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td><code>orderId</code></td>
                            <td>string</td>
                            <td>ID ƒë∆°n h√†ng (VD: DH001)</td>
                        </tr>
                    </table>
                </div>
                <div class="response">
                    <h4>üì• Response (Success)</h4>
                    <div class="code-block">{
  "success": true,
  "order": {
    "ID_DH": "DH001",
    "ID_U": "U1763729801340",
    "HoTen": "H·ªì Xu√¢n S∆°n",
    "SDT": "0987654321",
    "DiaChi": "123 ƒê∆∞·ªùng ABC, TP.HCM",
    "TongTien": 5000000,
    "TrangThai": "cho_xac_nhan",
    "NgayDat": "2024-01-01 10:30:00",
    "items": [
      {
        "ID_SP": "CPU_001",
        "TenSP": "Intel Core i7",
        "SoLuong": 1,
        "DonGia": 5000000,
        "ThanhTien": 5000000
      }
    ]
  }
}</div>
                </div>
                <div class="note">
                    <strong>‚ö†Ô∏è Header y√™u c·∫ßu:</strong> Authorization: Bearer {token}
                </div>
            </div>

            <!-- Delete Order -->
            <div class="api-endpoint">
                <h2><span class="method delete">DELETE</span> /api/orders/:orderId</h2>
                <div class="endpoint-url">/api/orders/DH001</div>
                <div class="description">
                    Delete an order. Only orders with status "cho_xac_nhan" (pending) can be deleted.
                </div>
                <div class="params">
                    <h4>üìã URL Parameters</h4>
                    <table>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td><code>orderId</code></td>
                            <td>string</td>
                            <td>ID ƒë∆°n h√†ng c·∫ßn xo√°</td>
                        </tr>
                    </table>
                </div>
                <div class="response">
                    <h4>üì• Response (Success)</h4>
                    <div class="code-block">{
  "success": true,
  "message": "ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c xo√° th√†nh c√¥ng"
}</div>
                </div>
                <div class="note">
                    <strong>‚ö†Ô∏è Header y√™u c·∫ßu:</strong> Authorization: Bearer {token}
                </div>
            </div>

            <!-- HTTP Status Codes -->
            <div class="api-endpoint">
                <h2>üîç HTTP Status Codes</h2>
                <div class="params">
                    <table>
                        <tr>
                            <th>Code</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td><code>200</code></td>
                            <td>OK - Request th√†nh c√¥ng</td>
                        </tr>
                        <tr>
                            <td><code>201</code></td>
                            <td>Created - T√†i nguy√™n ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng</td>
                        </tr>
                        <tr>
                            <td><code>400</code></td>
                            <td>Bad Request - D·ªØ li·ªáu request kh√¥ng h·ª£p l·ªá</td>
                        </tr>
                        <tr>
                            <td><code>401</code></td>
                            <td>Unauthorized - Token kh√¥ng h·ª£p l·ªá ho·∫∑c kh√¥ng ƒë∆∞·ª£c cung c·∫•p</td>
                        </tr>
                        <tr>
                            <td><code>404</code></td>
                            <td>Not Found - Kh√¥ng t√¨m th·∫•y t√†i nguy√™n</td>
                        </tr>
                        <tr>
                            <td><code>500</code></td>
                            <td>Internal Server Error - L·ªói m√°y ch·ªß</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- Error Handling -->
            <div class="api-endpoint">
                <h2>‚ö†Ô∏è Error Response Format</h2>
                <div class="response">
                    <h4>üì• Response (Error)</h4>
                    <div class="code-block">{
  "success": false,
  "message": "M√¥ t·∫£ l·ªói",
  "error": "Chi ti·∫øt l·ªói (n·∫øu c√≥)"
}</div>
                </div>
            </div>
        </div>
        <footer>
            <p>SONA Order Management System - API v1.0</p>
            <p>¬© 2024 - All rights reserved</p>
        </footer>
    </div>
</body>
</html>
